<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>HeLX Editor</title>
<script> window.onload = function(){

test = `HeLX Spec A 'https://hexl.hailiax.io/specs/0'

Point = ( xx yy ) =>
	x: xx
	y: yy
	hypot = ( n m ) => { n^2 + m^2 } ^ 0.5
	distance: ( ) => hypot( x y )

pt = new Point( 3 4 )
console.log( pt.x )
console.log( pt.y )
console.log( pt.distance() )`;

compile = function( input ){
	compiler = document.createElement('iframe');
	compiler.src = 'compiler.html';
	compiler.style.display = 'none';
	document.body.appendChild(compiler);
	compiler.onload = function(){
		compiler.contentWindow.postMessage(input,'*');		
	};
};

window.addEventListener("message", function( output ){ try{
	document.getElementById('out').innerHTML = output.data;
	document.body.removeChild(compiler);
}catch(e){} }, false);

} </script>
</head>

<body>
	<pre id="out"></pre>
</body>
</html>
